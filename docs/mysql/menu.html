<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../assets/css/style.css" />
  <title>Indice general</title>
  <style>
    html {
      background-color: #aaa3f0;
    }

    table{
      border-collapse: collapse;
    }

    td,
    th {
      vertical-align: middle;
      border: 2px solid ;
      padding: 1%;
    }

    hr{
      width: 100%;
      height: 3%;
    }

    .cuerpo-principal {
      color: #160052;
      line-height: 1.4;
    }

    .cuerpo-principal a {
      color: #160052;
      text-decoration: none;
    }

    #intro,
    #cap1,
    #cap2,
    #cap3,
    #cap4,
    #cap5,
    #cap6,
    #cap7,
    #cap8,
    #cap9,
    #cap10,
    #cap11,
    #cap12,
    #cap13,
    #cap14,
    #cap15,
    #cap16,
    #cap17 {
      margin-bottom: 15%;
    }

    .sec1,
    .sec2,
    .sec3,
    .sec4,
    .sec5,
    .sec6,
    .sec7,
    .sec8,
    .sec9,
    .sec10 {
      margin-bottom: 15%;
    }
  </style>
</head>

<body>
  <!-- ================================================================================ -->
  <div class="menu-lateral">
    <h2>MySQL</h2>
    <hr style="height: 0.1px;">
    <a href="#intro">
      <h2>Introducción</h2>
    </a>
    <a href="#intro .sec1">
      <h3>Algunas Consultas</h3>
    </a>
    <a href="#cap1">
      <h2>B</h2>
    </a>
    <a href="#cap2">
      <h2>Funciones con JSON</h2>
    </a>
    <a href="#cap2 .sec1">
      <h3>Algunas Consultas</h3>
    </a>
  </div>
  <!-- ================================================================================ -->
  <div class="cuerpo-principal">
    <!-- ------------------------------------------------------------------------------- -->
    <div id="intro">
      <hr><h2>Introducción</h2><hr>
      <div id="sec1">
        <h3>Algunas Consultas</h3>
        Aquí hay una consulta simple que le pide al servidor que le diga su número de versión y la
        fecha actual.

      </div>
    </div>
    <!-- ------------------------------------------------------------------------------- -->
    <div id="cap1">
      <h2></h2>
    </div>
    <!-- ------------------------------------------------------------------------------- -->
    <div id="cap2">
      <hr><h2>Variables</h2><hr>
      <div id="sec1">
        <h3>Tipos de Variables</h3>

        <h4>Variables definidas por el usuario (con el prefijo @)</h4>
        A las variables de usuario se les puede asignar un valor de un conjunto limitado de tipos
        de datos: entero, decimal, coma flotante, cadena binaria o no binaria, o valor NULL.
        Las variables definidas por el usuario son específicas de la sesión. Es decir, una variable
        de usuario definida por un cliente no puede ser vista o utilizada por otros clientes.
        Se pueden usar en SELECT consultas utilizando técnicas de variables de usuario avanzadas
        de MySQL.
        <pre>
          @var_any_var_name
        </pre>

        <h4>Variables locales (sin prefijo)</h4>
        Se pueden usar como variables locales y los parámetros de entrada dentro de un procedimiento
        almacenado.
        El alcance de una variable local es el BEGIN ... END bloque dentro del cual se declara.
        <pre>
          var_any_var_name
        </pre>

        <h4>Variables del sistema del servidor (con el prefijo @@)</h4>
        El servidor MySQL mantiene muchas variables del sistema configuradas en un valor predeterminado.
        Pueden ser de tipo GLOBAL, SESSION o BOTH. Las variables globales afectan el funcionamiento
        general del servidor, mientras que las variables de sesión afectan su funcionamiento para
        conexiones de clientes individuales.
        <pre>
          @@sort_buffer_size;
        </pre>

      </div>
      <div id="sec2">
        <h3>Declarar Variables</h3>

        <h4>Variables definidas por el usuario (con el prefijo @)</h4>
        Puede acceder a cualquier variable definida por el usuario sin declararla o inicializarla. Si
        hace referencia a una variable que no se ha inicializado, tiene un valor NULL y un tipo de cadena.
        <pre>
          SELECT @var_any_var_name
        </pre>
        Se puede inicializar una variable usando SET o SELECT. Esto es para cualquier tipo de variable.
        <pre>
          SET @start = 1, @finish = 10;
          
          SELECT @start := 1, @finish := 10;
        </pre>
        Se puede asignar tanto con (=) como con (:=)
        <pre>
          SET @test1 := 0;
          SET @test2 := @test1 := 5;

          SELECT @test1, @test2;

          +--------+--------+
          | @test1 | @test2 |
          +--------+--------+
          | 5      | 5      | 
          +--------+--------+
        </pre>
        La segunda declaración establece @test1 en 5 y luego establece @test2 en el resultado de esa
        asignación, que es el valor actual de @test1

        <h4>Variables locales (sin prefijo)</h4>
        Las variables locales deben declararse utilizando DECLARE antes de acceder.
        <pre>
          CREATE PROCEDURE sp_test() 
            BEGIN   
                DECLARE start  INT unsigned DEFAULT 1;  
                DECLARE finish INT unsigned DEFAULT 10;

                SET start := 1
                SELECT finish := 10;
            END;
        </pre>
        Si DEFAULT falta la cláusula, el valor inicial es NULL.
        El alcance de una variable local es el BEGIN ... END bloque dentro del cual se declara.

      </div>
      <div id="sec3">
        <h3>Set VS Select</h3>
        <table class="default">
          <tr>
            <th>SET</th>
            <th>SELECT</th>
          </tr>
          <tr>
            <td colspan="2">
              Cada vez que es asignando un valor a una variable mediante una consulta:
            </td>
          </tr>
          <tr>
            <td>
              SET aceptará y asignara un escalar (solo) un valor de una consulta. Caso contrario
              generará este error:<br><br>
              Msg 512, Level 16, State 1, Line 4
              Subquery returned more than 1 value. This is not permitted when the subquery
              follows =, !=, <, <=,>, >= or when the subquery is used as an expression.
            </td>
            <td>
              SELECT podría aceptar múltiples valores devueltos. Pero después de aceptar varios
              valores a través del comando SELECT no tienes manera de rastrear que valor está en
              la variable. El último valor devuelto en la lista llenará la variable.
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>
            </td>
          </tr>
          <tr>
            <td>
            </td>
            <td>
            </td>
          </tr>
        </table>
      </div>

    </div>
    <!-- ------------------------------------------------------------------------------- -->
    <div id="cap3">
      <hr><h2>Funciones con JSON</h2><hr>
      <div id="sec1">
        <h3></h3>

      </div>
    </div>

  </div>
  <!-- ================================================================================ -->
  <footer>
    <a href="../../index.html"><img src="../../assets/images/flecha-arriba-fooder.png" width="20" alt=""></a>
  </footer>

</body>

</html>
